{% extends "base.html" %}

{% block title %}{{ list.title }} · Indexd{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-8">
    <h1 class="h3 mb-2 fw-semibold">{{ list.title }}</h1>
    {% if list.description %}
      <p class="text-secondary mb-3">{{ list.description }}</p>
    {% endif %}

    <p class="text-muted small mb-4">
      {{ list.list_items.count }} item{{ list.list_items.count|pluralize }}
      · {% if list.is_public %}Public{% else %}Private{% endif %}
    </p>

    {% if list.list_items.all %}
      <div class="list-group">
        {% for li in list.list_items.all %}
          <a
            href="{{ li.item.url|default:'#' }}"
            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
            target="_blank"
          >
            <div>
              <div class="fw-semibold">{{ li.item.title }}</div>
              <div class="small text-muted">
                {{ li.item.get_item_type_display }}
                {% if li.note %} · {{ li.note }}{% endif %}
              </div>
            </div>
            {% if li.item.thumbnail_url %}
              <img src="{{ li.item.thumbnail_url }}" alt="" class="img-thumbnail" style="width: 56px; height: 56px; object-fit: cover;">
            {% endif %}
          </a>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-secondary">This list is empty. Add something from the home page.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
